import React, { useState } from 'react';
import styled from 'styled-components';
import { useNavigate } from 'react-router-dom';

const HealthCheck = () => {
    const navigate = useNavigate();
    const [selected, setSelected] = useState(null); // 'yes' | 'no'

    const handleDone = () => {
        if (selected === 'yes') navigate('/eating-choice');
        if (selected === 'no') navigate('/complaint');
    };

    return(
        <>
            <Wrapper>
                <h1>음식 잘 받으셨나요?</h1>
                <Button 
                    type="button"
                    className={selected === 'yes' ? 'normal active' : 'normal'}
                    onClick={() => setSelected('yes')}
                >
                    <span>네</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="31" height="32" viewBox="0 0 31 32" fill="none">
                        <path d="M15.5 0.5C6.9375 0.5 0 7.4375 0 16C0 24.5625 6.9375 31.5 15.5 31.5C24.0625 31.5 31 24.5625 31 16C31 7.4375 24.0625 0.5 15.5 0.5ZM20.5 11C21.6063 11 22.5 11.8938 22.5 13C22.5 14.1062 21.6063 15 20.5 15C19.3937 15 18.5 14.1062 18.5 13C18.5 11.8938 19.3937 11 20.5 11ZM10.5 11C11.6062 11 12.5 11.8938 12.5 13C12.5 14.1062 11.6062 15 10.5 15C9.39375 15 8.5 14.1062 8.5 13C8.5 11.8938 9.39375 11 10.5 11ZM22.675 21.6375C20.8937 23.775 18.2812 25 15.5 25C12.7188 25 10.1062 23.775 8.325 21.6375C7.475 20.6188 9.0125 19.3438 9.8625 20.3563C11.2625 22.0375 13.3125 22.9937 15.5 22.9937C17.6875 22.9937 19.7375 22.0312 21.1375 20.3563C21.975 19.3438 23.5187 20.6188 22.675 21.6375Z" fill="#F5F5F5"/>
                    </svg>
                </Button>
                <Button
                    type="button"
                    className={selected === 'no' ? 'normal active' : 'normal'}
                    onClick={() => setSelected('no')}
                >
                    <span>문제가 있어요</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 35 35" fill="none">
                        <path d="M18.915 3C27.7525 3 34.9166 10.1641 34.9166 19.0016C34.9166 27.8375 27.7525 35 18.915 35C10.0775 35 2.91663 27.8375 2.91663 19.0016C2.91503 10.1641 10.0775 3 18.915 3ZM18.915 21.3982C17.637 21.3961 16.3714 21.6502 15.1932 22.1453C14.0149 22.6405 12.9478 23.3667 12.0549 24.2811C11.9446 24.3937 11.8576 24.5269 11.7988 24.6732C11.74 24.8194 11.7105 24.9758 11.7122 25.1334C11.7138 25.291 11.7465 25.4468 11.8083 25.5918C11.8701 25.7368 11.9599 25.8682 12.0725 25.9785C12.1851 26.0888 12.3184 26.1758 12.4646 26.2346C12.6108 26.2935 12.7672 26.3229 12.9249 26.3213C13.0825 26.3196 13.2382 26.287 13.3832 26.2251C13.5282 26.1633 13.6596 26.0735 13.7699 25.9609C14.4401 25.2755 15.2405 24.7308 16.124 24.3588C17.0075 23.9868 17.9564 23.7951 18.915 23.7947C20.8748 23.7947 22.7066 24.5786 24.0521 25.9497C24.1626 26.0621 24.2942 26.1516 24.4393 26.2132C24.5844 26.2747 24.7402 26.3071 24.8978 26.3085C25.0555 26.3098 25.2118 26.2801 25.3579 26.221C25.5041 26.1619 25.6371 26.0746 25.7495 25.9641C25.8619 25.8536 25.9515 25.722 26.013 25.5769C26.0746 25.4318 26.107 25.276 26.1083 25.1184C26.1096 24.9607 26.0799 24.8044 26.0208 24.6583C25.9617 24.5121 25.8744 24.3791 25.7639 24.2667C24.8716 23.3558 23.8061 22.6326 22.6302 22.1394C21.4543 21.6463 20.1917 21.3932 18.9166 21.395M14.1155 13.8021C13.8482 13.7946 13.5822 13.8407 13.333 13.9377C13.0839 14.0348 12.8567 14.1808 12.665 14.3672C12.4733 14.5536 12.3209 14.7765 12.2168 15.0228C12.1128 15.2691 12.0591 15.5337 12.0591 15.8011C12.0591 16.0685 12.1128 16.3332 12.2168 16.5795C12.3209 16.8258 12.4733 17.0487 12.665 17.235C12.8567 17.4214 13.0839 17.5675 13.333 17.6645C13.5822 17.7616 13.8482 17.8077 14.1155 17.8001C14.6359 17.7854 15.13 17.5683 15.4929 17.1951C15.8557 16.8218 16.0587 16.3217 16.0587 15.8011C16.0587 15.2805 15.8557 14.7805 15.4929 14.4072C15.13 14.0339 14.6359 13.8168 14.1155 13.8021ZM23.7145 13.8021C23.4473 13.7946 23.1812 13.8407 22.9321 13.9377C22.6829 14.0348 22.4558 14.1808 22.2641 14.3672C22.0723 14.5536 21.9199 14.7765 21.8159 15.0228C21.7118 15.2691 21.6582 15.5337 21.6582 15.8011C21.6582 16.0685 21.7118 16.3332 21.8159 16.5795C21.9199 16.8258 22.0723 17.0487 22.2641 17.235C22.4558 17.4214 22.6829 17.5675 22.9321 17.6645C23.1812 17.7616 23.4473 17.8077 23.7145 17.8001C24.2349 17.7854 24.729 17.5683 25.0919 17.1951C25.4548 16.8218 25.6578 16.3217 25.6578 15.8011C25.6578 15.2805 25.4548 14.7805 25.0919 14.4072C24.729 14.0339 24.2349 13.8168 23.7145 13.8021Z" fill="white"/>
                    </svg>
                </Button>
                <Button
                    type="button"
                    className="done"
                    onClick={handleDone}
                    disabled={!selected}
                >
                    <span>선택완료</span>
                </Button>
            </Wrapper>
        </>
    );
};

export default HealthCheck;

const Wrapper = styled.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;

  h1{
    margin-top: 3.38rem;
    margin-bottom: 7.88rem;
    color: #fff;
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 160%; /* 4rem */
    letter-spacing: -0.0275rem;
  }
`;

const Button = styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20rem;
  gap: 1rem;
  cursor: pointer;

  svg { flex-shrink: 0; }

  &.normal{
    border-radius: 0.5rem;
    border: 1px solid #FFF;
    height: 9.375rem;
    margin-bottom: 2.75rem;

    background: linear-gradient(128deg, rgba(255, 255, 255, 0.20) 0.02%, rgba(115, 115, 115, 0.00) 91.11%);
    color: #FFF;
    text-align: center;
    font-size: 2.25rem;
    font-weight: 600;
    line-height: 160%; /* 3.6rem */
  }

  &.normal.active {
    background: #fff;
    color: #000;

    svg path {
      fill: #000; /* active일 때 변경 */
    }
  }

  &.done{
    border-radius: 0.75rem;
    height: 4.5rem;
    margin-top: 3.44rem;

    background: var(--main-color);
    color: #000;
    font-size: 2rem;
    font-weight: 700;
    line-height: 160%; /* 3.2rem */
    letter-spacing: -0.022rem;
  }
`;